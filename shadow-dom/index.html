<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Shadow DOM example</title>
  </head>
  <body>
    <h1>Shadow DOM example</h1>
    <div id="hello-world"></div>
    <script src="hello-world.js"></script>
    <script>
      function createHelloWorld(selector, message) {
        var shadowHost = document.querySelector(selector);
        var shadowRoot = shadowHost.createShadowRoot();

        var style = document.createElement("style");
        style.textContent =
          ".hello-world { display: block; margin: 10px 0; }\n" +
          ".hello-world * { margin: 0; padding: 10px; font-family: sans-serif; }\n" +
          ".hello-world h1 { color: #FFF; background-color: #45B; }\n" +
          ".hello-world p.message { color: #666; background-color: #EEE; }"
        shadowRoot.appendChild(style);

        var shadowNode = document.createElement("div");
        shadowNode.className = "hello-world";

        var headingElement = document.createElement("h1");
        headingElement.appendChild(new Text("Hello"));
        shadowNode.appendChild(headingElement);

        var messageElement = document.createElement("p");
        messageElement.className = "message";
        messageElement.textContent = message;
        shadowNode.appendChild(messageElement);

        shadowRoot.appendChild(shadowNode);
      }
      createHelloWorld("#hello-world", "I'm in a shadow DOM.");
    </script>
  </body>
</html>
